{% extends "templates/web.html" %}

{% block title %}Verify - LinkLite{% endblock %}

{% block page_content %}
<style>
    .verify-container {
        max-width: 400px;
        margin: 80px auto;
        padding: 40px;
        background: var(--card-bg, #fff);
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        text-align: center;
    }

    .verify-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--text-color, #1f2937);
    }

    .verify-subtitle {
        color: var(--text-muted, #6b7280);
        margin-bottom: 24px;
    }

    .countdown {
        font-size: 3rem;
        font-weight: 700;
        color: #3b82f6;
        margin: 20px 0;
    }

    .continue-btn {
        display: none;
        width: 100%;
        padding: 14px 24px;
        font-size: 1rem;
        font-weight: 600;
        color: #fff;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        border: none;
        border-radius: 8px;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    .continue-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
    }

    .continue-btn:active {
        transform: translateY(0);
    }

    .continue-btn.show {
        display: block;
    }

    .destination-info {
        margin-top: 24px;
        padding: 12px;
        background: var(--control-bg, #f9fafb);
        border-radius: 8px;
        word-break: break-all;
        font-size: 0.875rem;
        color: var(--text-muted, #6b7280);
    }

    .destination-label {
        font-weight: 500;
        color: var(--text-color, #374151);
        margin-bottom: 4px;
    }

    @media (prefers-color-scheme: dark) {
        .verify-container {
            background: #1f2937;
        }
        .verify-title {
            color: #f9fafb;
        }
    }
</style>

<div class="verify-container">
    <div class="verify-title">Human Verification</div>
    <div class="verify-subtitle" id="subtitle">Please wait...</div>

    <div class="countdown" id="countdown">3</div>

    <a href="{{ redirect_url }}" class="continue-btn" id="continueBtn">
        Continue to destination
    </a>

    <div class="destination-info">
        <div class="destination-label">You will be redirected to:</div>
        <div>{{ destination_url }}</div>
    </div>
</div>

<script>
(function() {
    var count = 3;
    var countdown = document.getElementById('countdown');
    var btn = document.getElementById('continueBtn');
    var subtitle = document.getElementById('subtitle');

    var timer = setInterval(function() {
        count--;
        if (count > 0) {
            countdown.textContent = count;
        } else {
            clearInterval(timer);
            countdown.style.display = 'none';
            subtitle.textContent = 'Click to continue';
            btn.classList.add('show');
        }
    }, 1000);
})();
</script>
{% endblock %}
